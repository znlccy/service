(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28a179a8"],{"0b12":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("label",{directives:[{name:"show",rawName:"v-show",value:0===t.pictures.length,expression:"pictures.length===0"}]},[a("span",{staticClass:"upload-img"}),a("input",{ref:"path",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.getFile}})]),t._l(t.pictures,function(e,i){return a("span",{directives:[{name:"show",rawName:"v-show",value:t.pictures,expression:"pictures"}],key:i,staticClass:"img-preview"},[a("img",{staticStyle:{margin:"5px"},attrs:{src:e,width:"90px",height:"90px"}})])}),a("Button",{directives:[{name:"show",rawName:"v-show",value:0!==t.pictures.length,expression:"pictures.length!==0"}],staticClass:"reSelect",attrs:{type:"error",icon:"md-trash"},on:{click:t.remove}},[t._v("清空已选")])],2)},r=[],s=(a("ac6a"),{name:"imgsSelect",props:["value","urls","max"],data:function(){return{pictures:[]}},watch:{urls:function(t){var e=this;t.forEach(function(t){e.pictures.push(e.$url+t)})}},methods:{getFile:function(t){this.pictures=[];var e=t.target.files;e.length>this.max?this.$Message.error("超过"+this.max+"张,请重新选择"):null!=e&&(this.imgPreview(e),this.$emit("input",e))},remove:function(){this.$emit("input",[]),this.pictures=[]},imgPreview:function(t){var e=this;if(t&&window.FileReader){console.log(t);for(var a=0;a<t.length;a++){var i=t[a];if(/^image/.test(i.type)){var r=new FileReader;r.onloadend=function(t){var a=t.target.result;e.pictures.push(a)},r.readAsDataURL(i)}}console.log(this.imgs)}}}}),l=s,n=(a("6fab"),a("2877")),o=Object(n["a"])(l,i,r,!1,null,"5cb7c608",null);o.options.__file="imgsSelect.vue";e["a"]=o.exports},"54fd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"left"}},[a("h3",[t._v("团队信息编辑")]),a("Divider",{attrs:{orientation:"left"}},[t._v("信息填写")]),a("Row",[a("Col",{staticStyle:{width:"500px"}},[a("Form",{attrs:{model:t.formData,"label-width":120}},[a("FormItem",{attrs:{label:"公司名称"}},[a("Input",{attrs:{placeholder:"请填写公司名称"},model:{value:t.formData.company,callback:function(e){t.$set(t.formData,"company",e)},expression:"formData.company"}})],1),a("FormItem",{attrs:{label:"管理员账户"}},[a("Input",{attrs:{placeholder:"请填写管理员账户"},model:{value:t.formData.admin_account,callback:function(e){t.$set(t.formData,"admin_account",e)},expression:"formData.admin_account"}})],1),a("FormItem",{attrs:{label:"营业执照"}},[a("Input",{attrs:{placeholder:"请填写营业执照编号"},model:{value:t.formData.business_license,callback:function(e){t.$set(t.formData,"business_license",e)},expression:"formData.business_license"}})],1),a("FormItem",{attrs:{label:"营业执照扫描件"}},[a("ImgSelect",{attrs:{url:t.formData.bl_picture},model:{value:t.bl_picture,callback:function(e){t.bl_picture=e},expression:"bl_picture"}})],1),a("FormItem",{attrs:{label:"法人姓名"}},[a("Input",{attrs:{placeholder:"请填写法人姓名"},model:{value:t.formData.legal_person,callback:function(e){t.$set(t.formData,"legal_person",e)},expression:"formData.legal_person"}})],1),a("FormItem",{attrs:{label:"法人身份证号"}},[a("Input",{attrs:{placeholder:"请填写法人身份证号"},model:{value:t.formData.id_card,callback:function(e){t.$set(t.formData,"id_card",e)},expression:"formData.id_card"}})],1),a("FormItem",{attrs:{label:"身份证扫描件(正反面2张)"}},[a("ImgsSelect",{attrs:{urls:t.formData.id_card_pictures,max:2},model:{value:t.id_card_pictures,callback:function(e){t.id_card_pictures=e},expression:"id_card_pictures"}})],1),a("FormItem",{attrs:{label:"主营业务"}},[a("Input",{attrs:{placeholder:"请填写主营业务"},model:{value:t.formData.main_business,callback:function(e){t.$set(t.formData,"main_business",e)},expression:"formData.main_business"}})],1),a("FormItem",{attrs:{label:"发展阶段"}},[a("Input",{attrs:{placeholder:"请填写发展阶段"},model:{value:t.formData.develop_stage,callback:function(e){t.$set(t.formData,"develop_stage",e)},expression:"formData.develop_stage"}})],1),a("FormItem",{attrs:{label:"公司简介"}},[a("Input",{attrs:{rows:4,type:"textarea",placeholder:"请填写公司简介"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("FormItem",{attrs:{label:"公司 LOGO"}},[a("ImgSelect",{attrs:{url:t.formData.logo},model:{value:t.logo,callback:function(e){t.logo=e},expression:"logo"}})],1),a("FormItem",[a("Button",{attrs:{type:"success",long:""},on:{click:t.submit}},[t._v("提交")])],1)],1),t.load?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)],1)},r=[],s=a("926d"),l=a("c2c2"),n=a("0b12"),o={name:"edit",components:{ImgSelect:l["a"],ImgsSelect:n["a"]},data:function(){return{formData:{},space:[],logo:null,id_card_pictures:null,load:!1,times:[],bl_picture:null}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.load=!0,s["a"].detail(function(e){t.load=!1,t.formData=e.data.data},function(){t.load=!1})},submit:function(){var t=this;if(null!=this.logo||this.$formUtil.isStrValid(this.formData.logo))if(null!=this.bl_picture||this.$formUtil.isStrValid(this.formData.bl_picture))if(null!=this.id_card_pictures||this.$formUtil.isStrValid(this.formData.id_card_pictures))if(null==this.id_card_pictures||2===this.id_card_pictures.length){var e=this.$formUtil.objToFormData(this.formData);null!=this.logo&&e.append("logo",this.logo),null!=this.bl_picture&&e.append("bl_picture",this.bl_picture),null!=this.id_card_pictures&&(e.append("id_card_pictures[0]",this.id_card_pictures[0]),e.append("id_card_pictures[1]",this.id_card_pictures[1])),this.load=!0,s["a"].save(e,function(){t.load=!1,t.$router.push({name:"teamInfo"})},function(){t.load=!1})}else this.$Message.error("请选择 法人身份证正反面2张");else this.$Message.error("请选择 法人身份证正反面2张");else this.$Message.error("请选择营业执照扫描件");else this.$Message.error("请选择 logo")}}},c=o,u=(a("fe4b"),a("2877")),m=Object(u["a"])(c,i,r,!1,null,"55fa4660",null);m.options.__file="edit.vue";e["default"]=m.exports},"5e94":function(t,e,a){},"6fab":function(t,e,a){"use strict";var i=a("5e94"),r=a.n(i);r.a},"926d":function(t,e,a){"use strict";a.d(e,"a",function(){return l});var i=a("c665"),r=a("aa9a"),s=a("4a2d"),l=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"detail",value:function(t,e){s["a"].request(s["a"].url()+"enter_team/detail",t,e)}},{key:"save",value:function(t,e,a){s["a"].request(s["a"].url()+"enter_team/save",e,a,t,null)}},{key:"developmentDetail",value:function(t,e,a){s["a"].request(s["a"].url()+"development/detail",e,a,t,null)}},{key:"developmentSave",value:function(t,e,a){s["a"].request(s["a"].url()+"development/save",e,a,t,null)}},{key:"uri",value:function(){return s["a"].url()+"enter_team/"}}]),t}()},ac6a:function(t,e,a){for(var i=a("cadf"),r=a("0d58"),s=a("2aba"),l=a("7726"),n=a("32e9"),o=a("84f2"),c=a("2b4c"),u=c("iterator"),m=c("toStringTag"),p=o.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(d),h=0;h<f.length;h++){var v,g=f[h],_=d[g],b=l[g],D=b&&b.prototype;if(D&&(D[u]||n(D,u,p),D[m]||n(D,m,g),o[g]=p,_))for(v in i)D[v]||s(D,v,i[v],!0)}},c2c2:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[a("span",{staticClass:"upload-img"}),a("input",{ref:"path",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.getFile}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.picture,expression:"picture"}],staticClass:"img-preview"},[a("img",{attrs:{src:t.picture,width:"90px",height:"90px"}})])])])},r=[],s={name:"imgSelect",props:["value","url"],data:function(){return{img:null,picture:null}},watch:{url:function(t){this.picture=this.$url+t}},methods:{getFile:function(t){var e=t.target.files[0];null!=e&&(this.img=e,this.imgPreview(e),this.$emit("input",this.img)),this.$refs.path.value=""},imgPreview:function(t){var e=this;if(t&&window.FileReader&&/^image/.test(t.type)){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){e.picture=this.result}}}}},l=s,n=(a("e529"),a("2877")),o=Object(n["a"])(l,i,r,!1,null,"371b2e7d",null);o.options.__file="imgSelect.vue";e["a"]=o.exports},e303:function(t,e,a){},e529:function(t,e,a){"use strict";var i=a("e303"),r=a.n(i);r.a},fb66:function(t,e,a){},fe4b:function(t,e,a){"use strict";var i=a("fb66"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-28a179a8.2ce14091.js.map