{"version":3,"sources":["webpack:///./src/views/service/investigate/edit.vue?ed27","webpack:///./src/views/service/investigate/api.js","webpack:///./src/views/service/investigate/edit.vue?8afd","webpack:///src/views/service/investigate/edit.vue","webpack:///./src/views/service/investigate/edit.vue?9c53","webpack:///./src/views/service/investigate/edit.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_id_3eb5529c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_id_3eb5529c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","data","callback","errorBack","_js_api_baseApi__WEBPACK_IMPORTED_MODULE_2__","request","this","uri","url","render","_vm","_h","$createElement","_c","_self","_v","attrs","orientation","model","formData","label-width","label","placeholder","value","$$v","$set","expression","_l","question","index","key","span","type","max","option","length","min","_e","staticStyle","line-height","text-align","margin-left","on","click","$event","delQuestion","optionIndex","directives","name","rawName","addOption","delOption","icon","long","add","submit","size","fix","staticRenderFns","editvue_type_script_lang_js_","title","status","load","times","questions","must","mounted","$route","query","id","loadData","methods","_this","api","detail","res","forEach","push","splice","_this2","$formUtil","isStrValid","i","questionData","$Message","error","j","console","log","save","$router","investigate_editvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-7d0ae44b.f7211ff6.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=3eb5529c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=3eb5529c&scoped=true&lang=css&\"","import Api from '@/js/api/baseApi'\n\nexport default class {\n  static index (data, callback, errorBack) {\n    Api.request(this.uri() + 'index', callback, errorBack, data)\n  }\n\n  static save (data, callback, errorBack) {\n    Api.request(this.uri() + 'save', callback, errorBack, data)\n  }\n\n  static detail (data, callback, errorBack) {\n    Api.request(this.uri() + 'detail', callback, errorBack, data)\n  }\n\n  static delete (data, callback, errorBack) {\n    Api.request(this.uri() + 'delete', callback, errorBack, data)\n  }\n  static statics (data, callback, errorBack) {\n    Api.request(this.uri() + 'statics', callback, errorBack, data)\n  }\n\n  static uri () {\n    return Api.url() + 'investigate/'\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"问卷调查\")]),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"信息填写\")]),_c('Row',[_c('Col',[_c('Form',{attrs:{\"model\":_vm.formData,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"标题\"}},[_c('Input',{attrs:{\"placeholder\":\"请填写标题\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('RadioGroup',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('Radio',{attrs:{\"label\":0}},[_c('span',[_vm._v(\"不可用\")])]),_c('Radio',{attrs:{\"label\":1}},[_c('span',[_vm._v(\"可用\")])])],1)],1),_c('Divider'),_vm._l((_vm.questions),function(question,index){return _c('div',{key:index},[_c('Row',[_c('Col',{attrs:{\"span\":8}},[_c('FormItem',{attrs:{\"label\":\"问题:\"}},[_c('Input',{attrs:{\"placeholder\":\"请填写标题\"},model:{value:(question.title),callback:function ($$v) {_vm.$set(question, \"title\", $$v)},expression:\"question.title\"}})],1)],1),_c('Col',{attrs:{\"span\":6}},[_c('FormItem',{attrs:{\"label\":\"类型:\"}},[_c('Select',{model:{value:(question.type),callback:function ($$v) {_vm.$set(question, \"type\", $$v)},expression:\"question.type\"}},[_c('Option',{attrs:{\"value\":1}},[_vm._v(\"单选\")]),_c('Option',{attrs:{\"value\":2}},[_vm._v(\"复选\")]),_c('Option',{attrs:{\"value\":3}},[_vm._v(\"文本框\")])],1)],1)],1),(question.type===2)?_c('Col',{attrs:{\"span\":4}},[_c('FormItem',{attrs:{\"label\":\"最大可选:\"}},[_c('InputNumber',{attrs:{\"max\":question.option.length,\"min\":1},model:{value:(question.max),callback:function ($$v) {_vm.$set(question, \"max\", $$v)},expression:\"question.max\"}})],1)],1):_vm._e(),_c('Col',{staticStyle:{\"line-height\":\"40px\",\"text-align\":\"center\"},attrs:{\"span\":4}},[_c('Checkbox',{model:{value:(question.must),callback:function ($$v) {_vm.$set(question, \"must\", $$v)},expression:\"question.must\"}},[_vm._v(\" 必填\")]),_c('a',{staticStyle:{\"line-height\":\"40px\",\"margin-left\":\"20px\"},on:{\"click\":function($event){_vm.delQuestion(index)}}},[_vm._v(\"删除\")])],1)],1),(question.type!==3)?_c('div',_vm._l((question.option),function(option,optionIndex){return _c('Row',{key:optionIndex},[_c('Col',{attrs:{\"span\":8}},[_c('FormItem',{attrs:{\"label\":\"选项:\"}},[_c('Input',{attrs:{\"placeholder\":\"请填写选项\"},model:{value:(option.title),callback:function ($$v) {_vm.$set(option, \"title\", $$v)},expression:\"option.title\"}})],1)],1),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(optionIndex===0),expression:\"optionIndex===0\"}],staticStyle:{\"line-height\":\"40px\",\"margin-left\":\"20px\"},on:{\"click\":function($event){_vm.addOption(question)}}},[_vm._v(\"增加\")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(optionIndex!==0),expression:\"optionIndex!==0\"}],staticStyle:{\"line-height\":\"40px\",\"margin-left\":\"20px\"},on:{\"click\":function($event){_vm.delOption(question,optionIndex)}}},[_vm._v(\"删除\")])],1)})):_vm._e(),_c('Divider')],1)}),_c('FormItem',[_c('Button',{attrs:{\"type\":\"dashed\",\"icon\":\"md-add\",\"long\":\"\"},on:{\"click\":_vm.add}},[_vm._v(\"新增问题\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\",\"long\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)],2),(_vm.load)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div>\n    <h3>问卷调查</h3>\n    <Divider orientation=\"left\">信息填写</Divider>\n    <Row>\n      <Col>\n        <Form :model=\"formData\" :label-width=\"100\">\n          <FormItem label=\"标题\">\n            <Input v-model=\"formData.title\" placeholder=\"请填写标题\"></Input>\n          </FormItem>\n          <FormItem label=\"状态\">\n            <RadioGroup v-model=\"formData.status\">\n              <Radio :label=\"0\"><span>不可用</span></Radio>\n              <Radio :label=\"1\"><span>可用</span></Radio>\n            </RadioGroup>\n          </FormItem>\n          <Divider></Divider>\n          <div v-for=\"(question,index) in questions\" v-bind:key=\"index\">\n            <Row>\n              <Col :span=\"8\">\n                <FormItem label='问题:'>\n                  <Input v-model=\"question.title\" placeholder=\"请填写标题\"></Input>\n                </FormItem>\n              </Col>\n\n              <Col :span=\"6\">\n                <FormItem label='类型:'>\n                  <Select v-model=\"question.type\">\n                    <Option :value=\"1\">单选</Option>\n                    <Option :value=\"2\">复选</Option>\n                    <Option :value=\"3\">文本框</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n\n              <Col :span=\"4\" v-if=\"question.type===2\">\n                <FormItem label='最大可选:'>\n                  <InputNumber v-model=\"question.max\" :max=\"question.option.length\" :min=\"1\"></InputNumber>\n                </FormItem>\n              </Col>\n              <Col :span=\"4\" style=\"line-height: 40px;text-align: center\">\n                <Checkbox v-model=\"question.must\"> 必填</Checkbox>\n                <a style=\"line-height: 40px;margin-left: 20px\" @click=\"delQuestion(index)\">删除</a>\n              </Col>\n            </Row>\n            <div v-if=\"question.type!==3\">\n\n              <Row v-for=\"(option,optionIndex) in question.option\" v-bind:key=\"optionIndex\">\n\n                <Col :span=\"8\">\n                  <FormItem label='选项:'>\n                    <Input v-model=\"option.title\" placeholder=\"请填写选项\"></Input>\n                  </FormItem>\n                </Col>\n                <a v-show=\"optionIndex===0\" style=\"line-height: 40px;margin-left: 20px\"\n                   @click=\"addOption(question)\">增加</a>\n                <a @click=\"delOption(question,optionIndex)\" v-show=\"optionIndex!==0\"\n                   style=\"line-height: 40px;margin-left: 20px\">删除</a>\n\n              </Row>\n\n            </div>\n\n            <Divider></Divider>\n\n          </div>\n          <FormItem>\n            <Button type=\"dashed\" icon=\"md-add\" long @click=\"add\">新增问题</Button>\n          </FormItem>\n\n          <FormItem>\n            <Button type=\"success\" long @click=\"submit\">提交</Button>\n          </FormItem>\n\n        </Form>\n        <Spin size=\"large\" fix v-if=\"load\"></Spin>\n      </Col>\n\n    </Row>\n  </div>\n</template>\n\n<script>\nimport api from './api'\n\nexport default {\n  name: 'edit',\n  data () {\n    return {\n      formData: {\n        title: '',\n        status: 0\n      },\n      load: false,\n      times: [],\n      questions: [{ must: true, type: 1, option: [{}] }]\n    }\n  },\n  mounted () {\n    if (this.$route.query.id != null) {\n      this.loadData()\n    }\n  },\n  methods: {\n    loadData () {\n      this.load = true\n      api.detail({ id: this.$route.query.id }, res => {\n        this.load = false\n        this.formData = res.data.data\n        this.questions = res.data.data.question\n        this.questions.forEach(value => {\n          value.must = value.must === 1\n        })\n      }, () => {\n        this.load = false\n      })\n    },\n    add () {\n      this.questions.push({ type: 1, option: [{}] })\n    },\n    addOption (question) {\n      question.option.push({})\n    },\n    delOption (question, index) {\n      question.option.splice(index, 1)\n    },\n    delQuestion (index) {\n      this.questions.splice(index, 1)\n    },\n    submit () {\n      let data = { question: [] }\n      if (!this.$formUtil.isStrValid(this.formData.title)) {\n        this.$Message.error('标题不能为空')\n        return\n      }\n      data.title = this.formData.title\n\n      for (let i = 0; i < this.questions.length; i++) {\n        let questionData = { option: [] }\n        let question = this.questions[i]\n\n        if (!this.$formUtil.isStrValid(question.title)) {\n          this.$Message.error('问题标题不能为空')\n          return\n        }\n\n        questionData.title = question.title\n        questionData.must = question.must ? 1 : 0\n        questionData.type = question.type\n        questionData.max = question.max\n\n        if (question.type !== 3) {\n          for (let j = 0; j < question.option.length; j++) {\n            if (!this.$formUtil.isStrValid(question.option[j].title)) {\n              this.$Message.error('问题' + question.title + '选项不能为空')\n              return\n            }\n            questionData.option.push(question.option[j].title)\n          }\n        }\n        data.question.push(questionData)\n      }\n      this.load = true\n      console.log(data)\n      api.save(data, () => {\n        this.load = false\n        this.$router.push({ name: 'investigate' })\n      }, () => {\n        this.load = false\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=3eb5529c&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=3eb5529c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3eb5529c\",\n  null\n  \n)\n\ncomponent.options.__file = \"edit.vue\"\nexport default component.exports"],"sourceRoot":""}