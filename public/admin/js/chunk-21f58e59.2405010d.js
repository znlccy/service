(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21f58e59"],{a93a:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h3",[t._v(" 管理员列表")]),e("Divider",{attrs:{orientation:"left"}},[t._v("列表筛选")]),e("Row",{staticClass:"search"},[e("Form",{attrs:{inline:"",model:t.formData,"label-width":80}},[e("FormItem",{attrs:{label:"编号"}},[e("Input",{staticClass:"filter-input",attrs:{number:"",placeholder:"请输入编号"},model:{value:t.formData.id,callback:function(a){t.$set(t.formData,"id",a)},expression:"formData.id"}})],1),e("FormItem",{attrs:{label:"标题"}},[e("Input",{staticClass:"filter-input",attrs:{placeholder:"请输入名称"},model:{value:t.formData.title,callback:function(a){t.$set(t.formData,"title",a)},expression:"formData.title"}})],1),e("FormItem",{attrs:{label:"状态"}},[e("Select",{staticClass:"filter-input",attrs:{placeholder:"请选择"},model:{value:t.formData.status,callback:function(a){t.$set(t.formData,"status",a)},expression:"formData.status"}},[e("Option",{attrs:{label:"正常",value:1}}),e("Option",{attrs:{label:"禁用",value:0}})],1)],1),e("FormItem",{attrs:{label:"发布日期"}},[e("Date-picker",{staticClass:"filter-input",attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"选择日期"},model:{value:t.formData.time,callback:function(a){t.$set(t.formData,"time",a)},expression:"formData.time"}})],1)],1),e("div",{staticClass:"filter-btn"},[e("span",{staticClass:"span"},[t._v("操作 ")]),e("Button",{staticStyle:{"font-weight":"bold"},attrs:{type:"info",icon:"ios-search"},on:{click:function(a){t.loadData(1)}}},[t._v(" 搜索")]),e("Button",{staticStyle:{"font-weight":"bold"},attrs:{type:"warning",icon:"md-refresh"},on:{click:function(a){t.ref()}}},[t._v("重置")]),e("Button",{staticStyle:{"font-weight":"bold"},attrs:{type:"success",icon:"md-add"},on:{click:function(a){t.add()}}},[t._v("新建")])],1)],1),e("Divider",{attrs:{orientation:"left"}},[t._v("列表数据")]),e("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.listData.data}}),t.load?e("Spin",{attrs:{size:"large",fix:""}}):t._e(),t.listData.last_page>1?e("Row",{staticStyle:{"text-align":"center","margin-top":"20px"}},[e("Page",{attrs:{total:t.listData.total,"page-size":t.listData.per_page,current:t.listData.current_page,size:"small"},on:{"on-change":t.loadData}})],1):t._e()],1)},n=[],r=(e("7f7f"),e("b635")),l={name:"index",data:function(){var t=this;return{formData:{},listData:{},teams:{},load:!1,columns:[{title:"id",align:"center",key:"id"},{title:"标题",align:"center",key:"title"},{title:"发布日期",align:"center",key:"publish_time"},{title:"状态",key:"status",align:"center",render:function(t,a){return t("span",0===a.row.status?"禁用":"正常")}},{title:"发布人",align:"center",render:function(t,a){return t("span",a.row.user?a.row.user.real_name:"")}},{title:"Action",width:200,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.add(e.row.id)}}},"编辑"),a("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.del(e.row)}}},"删除")])}}]}},activated:function(){this.loadData()},methods:{loadData:function(t){var a=this;t&&(this.formData.jump_page=t),null!=this.formData.time&&2===this.formData.time.length?(this.formData.start_time=this.formData.time[0],this.formData.end_time=this.formData.time[1]):(this.formData.start_time=null,this.formData.end_time=null),this.load=!0,r["a"].index(this.formData,function(t){a.listData=t.data.data,a.load=!1},function(){a.load=!1})},add:function(t){this.$router.push({name:"informationEdit",query:{id:t}})},ref:function(){this.formData={},this.loadData(1)},del:function(t){var a=this;this.$Modal.confirm({title:"确定删除"+t.name+"吗?",okText:"删除",cancelText:"取消",loading:!0,onOk:function(){r["a"].delete({id:t.id},function(){a.$Modal.remove(),a.$Message.success("删除成功"),a.loadData(1)},function(){a.$Modal.remove()})}})}}},o=l,s=e("2877"),c=Object(s["a"])(o,i,n,!1,null,null,null);c.options.__file="index.vue";a["default"]=c.exports},b635:function(t,a,e){"use strict";e.d(a,"a",function(){return l});var i=e("c665"),n=e("aa9a"),r=e("4a2d"),l=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,null,[{key:"index",value:function(t,a,e){r["a"].request(this.uri()+"index",a,e,t)}},{key:"save",value:function(t,a,e){r["a"].request(this.uri()+"save",a,e,t)}},{key:"detail",value:function(t,a,e){r["a"].request(this.uri()+"detail",a,e,t)}},{key:"delete",value:function(t,a,e){r["a"].request(this.uri()+"delete",a,e,t)}},{key:"uri",value:function(){return r["a"].url()+"information/"}}]),t}()}}]);
//# sourceMappingURL=chunk-21f58e59.2405010d.js.map